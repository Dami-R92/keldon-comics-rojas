(this["webpackJsonpkeldon-comics-rojas"]=this["webpackJsonpkeldon-comics-rojas"]||[]).push([[0],{164:function(e,t,c){},165:function(e,t,c){},166:function(e,t,c){},174:function(e,t,c){},175:function(e,t,c){},178:function(e,t,c){},179:function(e,t,c){},180:function(e,t,c){},181:function(e,t,c){},182:function(e,t,c){},183:function(e,t,c){},184:function(e,t,c){},186:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(62),r=c.n(n),s=(c(164),c(165),c(20)),i=c(12),l=c(140),o=c(141),j=c(147),d=c(145),b=c(202),u=c.p+"static/media/cart.b142bb30.png",h=(c(166),c(43)),m=c.n(h),O=c(70),x=c(146),p=c(28),f=c(23),v=c(88),g=(c(187),v.a.apps.length?v.a.app():v.a.initializeApp({apiKey:"AIzaSyCl77h-IheC15KhWzqVCdSwnzQ3IqfDVZY",authDomain:"keldon-comics-rojas.firebaseapp.com",projectId:"keldon-comics-rojas",storageBucket:"keldon-comics-rojas.appspot.com",messagingSenderId:"393151327597",appId:"1:393151327597:web:8568b82ceeccfef15d3e64"})),C=v.a.firestore(g).collection("products"),k=v.a.firestore(g).collection("users"),N=c(2),y=Object(a.createContext)({}),I=function(){return Object(a.useContext)(y)},S=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(f.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)(!1),l=Object(f.a)(i,2),o=l[0],j=l[1],d=Object(a.useState)(!1),b=Object(f.a)(d,2),u=b[0],h=b[1],v=function(e){return r.some((function(t){return t.id===e}))},g=r.reduce((function(e,t){return e+t.amount*t.quantity}),0),C=r.reduce((function(e,t){return e+t.quantity}),0),I=function(){var e=Object(O.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.doc();case 2:(c=e.sent).set(t),setTimeout((function(){alert("Registre su numero de pedido para seguimiento :  "+c.id)}),5e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(y.Provider,{value:{cart:r,setCart:s,clearCart:function(){return s([])},addToCart:function(e,t){if(v(e.id)){var c=r.map((function(c){return c.id===e.id?Object(p.a)(Object(p.a)({},c),{},{quantity:c.quantity+t}):c}));s([c])}else s((function(c){return[].concat(Object(x.a)(c),[Object(p.a)(Object(p.a)({},e),{},{quantity:t})])}))},isInCart:v,purchaseEnd:function(){s([]),alert("Muchas gracias por su compra! En Instantes recibira una alerta con su codigo de Seguimiento")},realStock:function(e){var t=r.find((function(t){return t.id===e.id}));return t?e.stock-t.quantity:e.stock},removeItem:function(e){return s(r.filter((function(t){return t.id!==e})))},totalCart:g,elementsInCart:C,datos:o,confirmData:function(){j(!0)},datosUser:u,closeForm:function(){j(!1)},confirmBuyer:function(){h(!0)},addUsers:I},children:t})},q=function(){var e=I(),t=e.elementsInCart;return e.cart.length?Object(N.jsxs)("div",{className:"cartWidget",children:[Object(N.jsx)("img",{className:"cartWidget--img",src:u,alt:""}),Object(N.jsxs)("p",{children:[": ",Object(N.jsxs)("strong",{className:"cartWidget--strong",children:[" ",t]})," "]})]}):""},w=function(e){Object(j.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(l.a)(this,c);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={},e.handleItemClick=function(t,c){var a=c.name;return e.setState({activeItem:a})},e}return Object(o.a)(c,[{key:"render",value:function(){var e=this.state.activeItem;return Object(N.jsxs)(b.a,{stackable:!0,children:[Object(N.jsxs)(b.a.Item,{name:"home",active:"home"===e,onClick:this.handleItemClick,children:[Object(N.jsx)("img",{src:"https://res.cloudinary.com/dami-r92/image/upload/v1625698357/keldon-comics/logokeldon_zyqmob.png",alt:"Logo-de-keldon-comics"}),Object(N.jsx)(s.b,{className:"Link",to:"/",children:" Keldon Comics "})]}),Object(N.jsx)(b.a.Item,{name:"nosotros",active:"nosotros"===e,onClick:this.handleItemClick,children:Object(N.jsx)(s.b,{className:"Link",to:"/category/manga",children:" Manga "})}),Object(N.jsx)(b.a.Item,{name:"nosotros",active:"nosotros"===e,onClick:this.handleItemClick,children:Object(N.jsx)(s.b,{className:"Link",to:"/category/comic",children:" Comic "})}),Object(N.jsx)(b.a.Item,{name:"order",active:"order"===e,onClick:this.handleItemClick,children:Object(N.jsx)(s.b,{className:"Link",to:"/order",children:" Mis Pedidos "})}),Object(N.jsx)(b.a.Item,{name:"carrito",active:"carrito"===e,onClick:this.handleItemClick,children:Object(N.jsx)(s.b,{className:"Link",to:"/cart",children:" Tu Carrito "})}),Object(N.jsx)(b.a.Item,{name:"carrito",active:"carrito"===e,onClick:this.handleItemClick,children:Object(N.jsxs)(s.b,{className:"Link",to:"/cart",children:[" ",Object(N.jsx)(q,{})," "]})})]})}}]),c}(a.Component),z=(c(174),c(203)),T=c(92);c(175);function E(e){var t=e.item;return Object(N.jsxs)(z.a,{className:"card",children:[Object(N.jsx)("img",{className:"cover",src:t.cover,wrapped:!0,ui:!1,alt:"Portada del comic"}),Object(N.jsxs)(z.a.Content,{children:[Object(N.jsx)("h3",{className:"card-title",children:t.name}),Object(N.jsxs)("label",{color:"orange",as:"a",className:"card-amount",children:["$ ",t.amount]}),t.stock?"":Object(N.jsx)(T.a,{className:"agotado",as:"a",color:"red",tag:!0,children:" Agotado "}),Object(N.jsx)("p",{className:"quote",children:t.quote})]})]})}var F=c(205);function P(e){return e.items.map((function(e,t){return Object(N.jsx)("div",{children:Object(N.jsx)(s.b,{to:"/detail/".concat(e.id),children:Object(N.jsx)(F.a.Column,{children:Object(N.jsx)(E,{item:e},e.id)})})},e.id)}))}c(178);var A=function(){var e=Object(i.f)().categoryName,t=Object(a.useState)([]),c=Object(f.a)(t,2),n=c[0],r=c[1];return Object(a.useEffect)((function(){Object(O.a)(m.a.mark((function t(){var c,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=C,e&&(c=C.where("category","==",e)),t.next=4,c.get();case 4:a=t.sent,r(a.docs.map((function(e){return Object(p.a)({id:e.id},e.data())})));case 6:case"end":return t.stop()}}),t)})))()}),[e]),Object(N.jsx)("div",{className:"item-container",children:Object(N.jsx)(F.a,{className:"item-container",stackable:!0,children:Object(N.jsx)(P,{items:n})})})};var L=function(){return Object(N.jsxs)("div",{className:"Home",children:[Object(N.jsx)("h1",{className:"page-titles",children:"El mundo del Comic y el Manga en tu bolsillo!"}),Object(N.jsx)(A,{})]})},R=(c(179),c(144)),D=c(188),$=c(67);c(180);function U(e){var t=e.stock,c=e.addOn,n=e.id,r=Object(a.useState)(t?1:0),i=Object(f.a)(r,2),l=i[0],o=i[1],j=I().isInCart;return Object(N.jsxs)("div",{className:"contador",children:[t?"":Object(N.jsx)(T.a,{className:"agotado",as:"a",color:"red",tag:!0,children:" Agotado "}),Object(N.jsxs)(F.a.Row,{columns:3,children:[t>0?Object(N.jsx)(D.a,{size:"small",className:"btn-handle",color:"orange",onClick:function(){l>0&&o(l-1)},children:" - "}):Object(N.jsx)(D.a,{className:"btn-handle",size:"small",color:"grey",children:" - "}),Object(N.jsx)(T.a,{size:"large",basic:!0,children:l}),t>0?Object(N.jsx)(D.a,{size:"small",className:"btn-handle",color:"blue",onClick:function(){l<t&&o(l+1)},children:" + "}):Object(N.jsx)(D.a,{className:"btn-handle",size:"small",color:"grey",children:" + "})]}),Object(N.jsx)("br",{}),!0===j(n)?Object(N.jsx)(D.a,{className:"btn-count",color:"red",to:"/cart",children:Object(N.jsxs)(s.b,{to:"/cart",children:[" ",Object(N.jsx)($.a,{className:"Link",name:"shopping cart"})," Ir al Carrito"]})}):Object(N.jsxs)(D.a,{className:"btn-count",color:"red",onClick:function(){return c(l)},children:[Object(N.jsx)($.a,{name:"shopping cart"})," Comprar"]})]})}c(181);function V(e){var t=e.comics,c=I(),a=c.addToCart,n=(0,c.realStock)(t);return Object(N.jsxs)(F.a,{divided:"vertically",stackable:!0,className:"detail",children:[Object(N.jsxs)(F.a.Row,{columns:2,children:[Object(N.jsx)(F.a.Column,{className:"cover-detail",children:Object(N.jsx)(R.a,{src:t.cover})}),Object(N.jsxs)(F.a.Column,{className:"header-detail",children:[Object(N.jsx)("h1",{children:t.name}),Object(N.jsxs)("h2",{children:["$ ",t.amount]}),Object(N.jsxs)("label",{children:["Stock: ",n]}),Object(N.jsx)(U,{stock:n,addOn:function(e){return a(t,e)},id:t.id})]})]}),Object(N.jsx)(F.a.Row,{columns:1,children:Object(N.jsx)(F.a.Column,{children:Object(N.jsx)("p",{className:"item-detail-escription",children:t.description})})})]})}var J=function(){var e=Object(i.f)().id,t=Object(a.useState)([]),c=Object(f.a)(t,2),n=c[0],r=c[1];return Object(a.useEffect)((function(){Object(O.a)(m.a.mark((function t(){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.doc(e).get();case 2:c=t.sent,r(Object(p.a)({id:c.id},c.data()));case 4:case"end":return t.stop()}}),t)})))()}),[e]),Object(N.jsx)("div",{children:Object(N.jsx)(V,{comics:n})})},M=(c(182),c(98)),W=c(201),B=(c(183),function(e){var t=e.addUsers,c=I(),n=c.cart,r=c.totalCart,s=c.purchaseEnd,i=c.closeForm,l={name:"",surname:"",cel:"",email:"",emailRepeat:"",items:JSON.stringify(n.map((function(e){return[e.name,e.quantity,e.amount]}))),totalCart:r},o=Object(a.useState)(l),j=Object(f.a)(o,2),d=j[0],b=j[1],u=function(e){var t=e.target,c=t.name,a=t.value;b(Object(p.a)(Object(p.a)({},d),{},Object(M.a)({},c,a)))};return Object(N.jsx)("div",{className:"container",children:Object(N.jsxs)("div",{className:"form-container",children:[Object(N.jsx)("button",{className:"btn-close",onClick:i,children:" X "}),Object(N.jsxs)(W.a,{onSubmit:function(e){d.email===d.emailRepeat&&d.name,d.email,d.surname,""!==d.cel?(i(),e.preventDefault(),t(d),b(Object(p.a)({},l)),s()):alert("Debe ingresar todos los datos requeridos, muchas gracias!")},children:[Object(N.jsxs)(W.a.Field,{children:[Object(N.jsx)("label",{children:"Nombre"}),Object(N.jsx)("input",{placeholder:"Nombre",onChange:u,name:"name",value:d.name})]}),Object(N.jsxs)(W.a.Field,{children:[Object(N.jsx)("label",{children:"Apellido"}),Object(N.jsx)("input",{placeholder:"Apellido",onChange:u,name:"surname",value:d.surname})]}),Object(N.jsxs)(W.a.Field,{children:[Object(N.jsx)("label",{children:"Telefono: "}),Object(N.jsx)("input",{placeholder:"Telefono",onChange:u,name:"cel",type:"number",value:d.cel})]}),Object(N.jsxs)(W.a.Field,{children:[Object(N.jsx)("label",{children:"Email"}),Object(N.jsx)("input",{placeholder:"Email",onChange:u,name:"email",value:d.email})]}),Object(N.jsxs)(W.a.Field,{children:[Object(N.jsx)("label",{children:"Por favor repetinos tu Email"}),Object(N.jsx)("input",{placeholder:" Repetinos tu Email",onChange:u,name:"emailRepeat",value:d.emailRepeat})]}),n.map((function(e){return Object(N.jsx)("div",{className:"table-user",children:Object(N.jsx)("table",{children:Object(N.jsx)("tbody",{children:Object(N.jsxs)("tr",{children:[Object(N.jsxs)("td",{children:[e.name," x ",e.quantity]}),Object(N.jsxs)("td",{children:["$ ",e.quantity*e.amount]})]})})})})})),Object(N.jsx)("table",{className:"table-user",children:Object(N.jsx)("tbody",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"Total: "}),Object(N.jsxs)("td",{children:["$ ",r]})]})})}),Object(N.jsx)(D.a,{type:"submit",primary:!0,fluid:!0,children:"Finalizar Compra"})]})]})})}),K=function(){var e=I(),t=e.cart,c=e.clearCart,a=e.removeItem,n=e.totalCart,r=e.datos,i=e.confirmData,l=e.addUsers;return t.length?Object(N.jsxs)("div",{className:"cart-container",children:[Object(N.jsxs)("table",{children:[Object(N.jsx)("caption",{children:"Tu Carrito"}),Object(N.jsx)("tbody",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Producto"}),Object(N.jsx)("th",{children:"Catidad"}),Object(N.jsx)("th",{children:"Sub Total"}),Object(N.jsx)("th",{children:"Funciones"})]})})]}),t.map((function(e){return Object(N.jsx)("div",{className:"cart-container",children:Object(N.jsx)("table",{children:Object(N.jsx)("tbody",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.name}),Object(N.jsx)("td",{children:e.quantity}),Object(N.jsxs)("td",{children:["$ ",e.quantity*e.amount]}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{className:"btn-remove",onClick:function(){return a(e.id)},children:" X "})})]})})})})})),Object(N.jsx)("table",{children:Object(N.jsx)("tbody",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"Total: "}),Object(N.jsxs)("td",{children:["$ ",n]})]})})}),r?Object(N.jsx)(B,{addUsers:l}):Object(N.jsxs)("div",{children:[Object(N.jsx)(D.a,{className:"btn",onClick:c,size:"big",color:"blue",children:"Vaciar Carrito"}),Object(N.jsx)(D.a,{className:"btn",onClick:i,size:"big",color:"green",children:"Confirmar Datos"})]})]}):Object(N.jsxs)("div",{className:"empty-cart",children:[Object(N.jsx)("h1",{children:"Vaya, no hay nada en tu carrito!! "}),Object(N.jsx)("h1",{children:"\xbfPor que no agregamos algunas cosas?"}),Object(N.jsxs)(D.a,{className:"btn",size:"big",primary:!0,children:[" ",Object(N.jsx)(s.b,{className:"Link",to:"/",children:"Volver a la Tienda "})]})]})},H=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"404"}),Object(N.jsx)("h2",{children:"Page not Found"})]})},X=(c(184),c(200)),Q=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(),s=Object(f.a)(r,2),i=s[0],l=s[1];return Object(N.jsxs)("div",{className:"order-container",children:[Object(N.jsx)("h1",{className:"order-title",children:"Hace el seguimiento de tu Pedido"}),Object(N.jsx)("p",{className:"order-text",children:"Ingresa el Codigo de Seguimiento suministrado con tu compra para ver el estado de ru producto "}),Object(N.jsx)(X.a,{icon:{name:"search",circular:!0,link:!0,onClick:function(e){e.preventDefault(),k.doc(c).get().then((function(e){l(e.data())}))}},placeholder:"Search...",onChange:function(e){var t=e.target.value;n(t)},name:"surname"}),Object(N.jsx)("br",{}),i?Object(N.jsxs)("div",{children:[Object(N.jsx)("table",{children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Nombre"}),Object(N.jsx)("th",{children:"Apellido"}),Object(N.jsx)("th",{children:"Telefono"}),Object(N.jsx)("th",{children:"Email"})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:i.name}),Object(N.jsx)("td",{children:i.surname}),Object(N.jsx)("td",{children:i.cel}),Object(N.jsx)("td",{children:i.email})]})]})}),Object(N.jsxs)("table",{children:[Object(N.jsx)("tbody",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Producto"}),Object(N.jsx)("th",{children:"Cantidad"}),Object(N.jsx)("th",{children:"Precio $: "})]})}),Object(N.jsx)("tbody",{children:JSON.parse(i.items).map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e[0]}),Object(N.jsx)("td",{children:e[1]}),Object(N.jsx)("td",{children:e[2]})]})}))})]}),Object(N.jsx)("table",{children:Object(N.jsx)("tbody",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"Total en Carrito"}),Object(N.jsx)("td",{children:i.totalCart})]})})})]}):""]})};var Y=function(){return Object(N.jsx)(S,{children:Object(N.jsx)(s.a,{children:Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(w,{}),Object(N.jsxs)(i.c,{children:[Object(N.jsx)(i.a,{path:"/",exact:!0,component:L}),Object(N.jsx)(i.a,{path:"/detail/:id",exact:!0,component:J}),Object(N.jsx)(i.a,{path:"/category/:categoryName",exact:!0,component:A}),Object(N.jsx)(i.a,{path:"/cart",component:K}),Object(N.jsx)(i.a,{path:"/order",component:Q}),Object(N.jsx)(i.a,{path:"/*",component:H})]})]})})})};c(185);r.a.render(Object(N.jsx)(Y,{}),document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.e983dc8a.chunk.js.map